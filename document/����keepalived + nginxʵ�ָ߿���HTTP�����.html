<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7600;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1515"/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><h2 style="margin: 10px 0px; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 40px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="font-size: 13px; font-weight: normal; line-height: 20px; background-color: rgba(255, 255, 255, 0.898438);">tags: </span><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 3px 4px; font-size: 12px; color: rgb(221, 17, 68); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-weight: normal; line-height: 20px;">nginx</code><span style="font-size: 13px; font-weight: normal; line-height: 20px; background-color: rgba(255, 255, 255, 0.898438);"> </span><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 3px 4px; font-size: 12px; color: rgb(221, 17, 68); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-weight: normal; line-height: 20px;">keepalived</code><span style="font-size: 13px; font-weight: normal; line-height: 20px; background-color: rgba(255, 255, 255, 0.898438);"> </span><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 3px 4px; font-size: 12px; color: rgb(221, 17, 68); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-weight: normal; line-height: 20px;">http代理</code></h2><h2 style="margin: 10px 0px; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 40px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">相关知识</h2><p style="margin: 0px 0px 10px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 20px; color: rgb(68, 68, 68);">本篇不nginx和keepalived的相关配置及用法做详细介绍，有希望了解的同学可以分别在<a href="http://nginx.org/" style="color: rgb(85, 26, 139); text-decoration: none;" target="_blank">nginx</a>和<a href="http://maxiang.info/www.keepalived.org/" style="color: rgb(85, 26, 139); text-decoration: none;" target="_blank">keepalived</a>进行深入学习。</p><h2 style="margin: 10px 0px; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 40px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">优点</h2><ol style="padding: 0px; margin: 0px 0px 10px 25px; list-style-position: initial; list-style-image: initial; color: rgb(68, 68, 68); font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 20px;"><li style="line-height: 22px;">高可用，保证代理层不会出现单点故障，并且故障切换过程为热切换，不需要人工参与；</li><li style="line-height: 22px;">灵活性，该代理层在7层上，会相比较LVS有更多的HTTP层功能支持，包括cache、cookie处理、日志分析等；</li></ol><h2 style="margin: 10px 0px; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 40px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">所需资源</h2><ol style="padding: 0px; margin: 0px 0px 10px 25px; list-style-position: initial; list-style-image: initial; color: rgb(68, 68, 68); font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 20px;"><li style="line-height: 22px;">3台C1机器，业务上大多只做HTTP流转发，不会有高计算、高IO、高内存等使用场景出现，所以选用普通的C1机型足以；但需要有以下保证，<strong style="font-weight: 700;">3台机器为同一网段，但不是同一上联交换机下</strong>，3台机器是防止1台机器故障后另一台机器突然需要承载的量上涨100%可能引发连环故障；同一网段是为了keepalived的虚ip，不在同一上联是防止上联成为单点；</li><li style="line-height: 22px;">6个ip，其中3个为管理ip，3个为服务ip；</li><li style="line-height: 22px;">nginx + keepalived</li></ol><h2 style="margin: 10px 0px; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 40px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">具体配置</h2><ul style="padding: 0px; margin: 0px 0px 10px 25px; list-style-position: initial; list-style-image: initial; color: rgb(68, 68, 68); font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; line-height: 20px;"><li style="line-height: 22px;"><h3 style="margin: 10px 0px; text-rendering: optimizelegibility; line-height: 30px; font-size: 18px;">nginx配置</h3><p style="margin: 0px 0px 10px; line-height: 20px;">可按普通nginx proxy方式配置，以下只是列举一些常用场景的配置方式，具体的需要根据业务进行调整；</p><ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;"><li><p style="margin: 0px 0px 10px; line-height: 20px;">普通代理转发模式；</p><pre style="font-family: Menlo, Monaco, 'Courier New', monospace; word-wrap: break-word; padding: 9.5px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 10px; line-height: 20px; background-color: rgb(245, 245, 245); border: 1px solid rgba(0, 0, 0, 0.148438); white-space: pre-wrap; word-break: break-all;"><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(248, 248, 255); border: 0px; display: block;">http {
upstream realserver {
  server realserver1;
  server realserver2;
}

server {
  listen <span style="color: rgb(0, 153, 153);">80</span>;

  server_name proxy;

  proxy_set_header Host <span style="color: teal;">$host</span>;
  proxy_set_header X-Forwarded-<span style="font-weight: 700;">For</span> <span style="color: teal;">$remote_addr</span>;

  location / {
      proxy_pass http:<span style="color: rgb(153, 153, 136); font-style: italic;">//realserver;</span>
  }
}
}</code></pre></li><li><p style="margin: 0px 0px 10px; line-height: 20px;">带cache的代理转发模式；</p><pre style="font-family: Menlo, Monaco, 'Courier New', monospace; word-wrap: break-word; padding: 9.5px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 10px; line-height: 20px; background-color: rgb(245, 245, 245); border: 1px solid rgba(0, 0, 0, 0.148438); white-space: pre-wrap; word-break: break-all;"><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(248, 248, 255); border: 0px; display: block;">http {
upstream realserver {
  server realserver1;
  server realserver2;
}

proxy_cache_path /dev/shm/ngx_cache levels=<span style="color: rgb(0, 153, 153);">1</span>:<span style="color: rgb(0, 153, 153);">2</span> keys_zone=ngx_cache:<span style="color: rgb(0, 153, 153);">10</span>m；

server {
  listen <span style="color: rgb(0, 153, 153);">80</span>;

  server_name proxy;

  proxy_cache ngx_cache;
  proxy_cache_min_uses <span style="color: rgb(0, 153, 153);">1</span>;
  proxy_cache_key <span style="color: teal;">$scheme</span><span style="color: teal;">$host</span><span style="color: teal;">$request_uri</span><span style="color: teal;">$is_args</span><span style="color: teal;">$args</span>;
  proxy_cache_valid <span style="color: rgb(0, 153, 153);">200</span> <span style="color: rgb(0, 153, 153);">1</span>m;

  <span style="color: rgb(153, 153, 136); font-style: italic;"># 根据业务调整是否忽略这些response头，不忽略这些response头，cache不会HIT</span>
  proxy_ignore_headers Cache-Control Expires Set-Cookies;

  proxy_set_header Host <span style="color: teal;">$host</span>;
  proxy_set_header X-Forwarded-<span style="font-weight: 700;">For</span> <span style="color: teal;">$remote_addr</span>;

  location / {
      proxy_pass http:<span style="color: rgb(153, 153, 136); font-style: italic;">//realserver;</span>
  }
}
}</code></pre></li><li><p style="margin: 0px 0px 10px; line-height: 20px;">利用cookie分别转发到不同的realserver的代理转发模式；</p><pre style="font-family: Menlo, Monaco, 'Courier New', monospace; word-wrap: break-word; padding: 9.5px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 10px; line-height: 20px; background-color: rgb(245, 245, 245); border: 1px solid rgba(0, 0, 0, 0.148438); white-space: pre-wrap; word-break: break-all;"><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(248, 248, 255); border: 0px; display: block;">http {
upstream default_realserver {
  server realserver;
}

upstream independent_realserver {
  server realserver;
}

<span style="color: rgb(153, 153, 136); font-style: italic;"># 根据cookie中的unique_id来判断应该转发到哪组realserver上</span><span style="font-weight: 700;">map</span> <span style="color: teal;">$cookie_unique_id</span> <span style="color: teal;">$realserver</span> {
  default default_realserver;
  independent independent_realserver;
}

server {
  <span style="font-weight: 700;">listen</span> <span style="color: rgb(0, 153, 153);">80</span>;

  server_name proxy;

  proxy_set_header Host <span style="color: teal;">$host</span>;
  proxy_set_header X-Forwarded-For <span style="color: teal;">$remote_addr</span>;

  location / {
      proxy_pass http:<span style="color: rgb(0, 153, 38);">//</span><span style="color: teal;">$realserver</span>;  <span style="color: rgb(153, 153, 136); font-style: italic;"># 根据之前的map结果转发到不同的realserver</span>
  }
}
}</code></pre></li><li>其他的一些模式，可以结合使用场景来发掘；</li></ul></li><li style="line-height: 22px;"><h3 style="margin: 10px 0px; text-rendering: optimizelegibility; line-height: 30px; font-size: 18px;">keepalived配置</h3><p style="margin: 0px 0px 10px; line-height: 20px;">这个为本篇一个较重点内容，我们假设分给3个机器的管理ip分别是aip1/aip2/aip3，3个服务ip分别是sip1/sip2/sip3；其中，</p><ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;"><li>在aip1上，sip1/sip2/sip3的权重分别为200/50/100；</li><li>在aip2上，sip1/sip2/sip3的权重分别为100/200/50；</li><li><p style="margin: 0px 0px 10px; line-height: 20px;">在aip3上，sip1/sip2/sip3的权重分别为50/100/200；</p><p style="margin: 0px 0px 10px; line-height: 20px;">通过这种权重的方式，让sip1在故障后切换顺序为aip1/aip2/aip3，其余两个ip类似，保证了故障后的热切换，及热切换顺序各自不同；</p><p style="margin: 0px 0px 10px; line-height: 20px;">具体配置如下：</p><ul style="padding: 0px; margin: 0px 0px 0px 25px; list-style: disc;"><li><p style="margin: 0px 0px 10px; line-height: 20px;">admin ip 1配置</p><pre style="font-family: Menlo, Monaco, 'Courier New', monospace; word-wrap: break-word; padding: 9.5px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 10px; line-height: 20px; background-color: rgb(245, 245, 245); border: 1px solid rgba(0, 0, 0, 0.148438); white-space: pre-wrap; word-break: break-all;"><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(248, 248, 255); border: 0px; display: block;">! Configuration file <span style="font-weight: 700;">for</span> keepalived
global_defs {
router_id HTTP_Proxy
}
vrrp_script nginx_monitor {
script <span style="color: rgb(221, 17, 68);">&quot;/path/to/nginx_monitor&quot;</span>
interval <span style="color: rgb(0, 153, 153);">2</span>  # 探测频率为<span style="color: rgb(0, 153, 153);">2</span>s
weight -<span style="color: rgb(0, 153, 153);">50</span>  # 根据script的返回值进行判断，如果重启失败，则该设备的权重-<span style="color: rgb(0, 153, 153);">50</span>
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">1</span>&gt;的配置
vrrp_instance VI_1 {
state MASTER
nopreempt
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v1priority 200    # 当前优先级权重为200
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

track_script {
      nginx_monitor
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">1</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">1</span> broadcast&gt;
}
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">2</span>&gt;的配置
vrrp_instance VI_2 {
state BACKUP
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v2priority 50     # 当前优先级权重为50
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">2</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">2</span> broadcast&gt;
}
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">3</span>&gt;的配置
vrrp_instance VI_3 {
state BACKUP
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v3priority 100    # 当前优先级权重为100
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">3</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">3</span> broadcast&gt;
}
}</code></pre></li><li><p style="margin: 0px 0px 10px; line-height: 20px;">admin ip 2配置</p><pre style="font-family: Menlo, Monaco, 'Courier New', monospace; word-wrap: break-word; padding: 9.5px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 10px; line-height: 20px; background-color: rgb(245, 245, 245); border: 1px solid rgba(0, 0, 0, 0.148438); white-space: pre-wrap; word-break: break-all;"><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(248, 248, 255); border: 0px; display: block;">! Configuration file <span style="font-weight: 700;">for</span> keepalived
global_defs {
router_id HTTP_Proxy
}
vrrp_script nginx_monitor {
script <span style="color: rgb(221, 17, 68);">&quot;/path/to/nginx_monitor&quot;</span>
interval <span style="color: rgb(0, 153, 153);">2</span>  # 探测频率为<span style="color: rgb(0, 153, 153);">2</span>s
weight -<span style="color: rgb(0, 153, 153);">50</span>  # 根据script的返回值进行判断，如果重启失败，则该设备的权重-<span style="color: rgb(0, 153, 153);">50</span>
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">1</span>&gt;的配置
vrrp_instance VI_1 {
state BACKUP
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v1priority 100    # 当前优先级权重为100
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">1</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">1</span> broadcast&gt;
}
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">2</span>&gt;的配置
vrrp_instance VI_2 {
state MASTER
nopreempt
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v2priority 200     # 当前优先级权重为200
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

track_script {
      nginx_monitor
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">2</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">2</span> broadcast&gt;
}
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">3</span>&gt;的配置
vrrp_instance VI_3 {
state BACKUP
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v3priority 50    # 当前优先级权重为50
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">3</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">3</span> broadcast&gt;
}
}</code></pre></li><li><p style="margin: 0px 0px 10px; line-height: 20px;">admin ip 3配置</p><pre style="font-family: Menlo, Monaco, 'Courier New', monospace; word-wrap: break-word; padding: 9.5px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 10px; line-height: 20px; background-color: rgb(245, 245, 245); border: 1px solid rgba(0, 0, 0, 0.148438); white-space: pre-wrap; word-break: break-all;"><code style="font-family: Menlo, Monaco, 'Courier New', monospace; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(248, 248, 255); border: 0px; display: block;">! Configuration file <span style="font-weight: 700;">for</span> keepalived
global_defs {
router_id HTTP_Proxy
}
vrrp_script nginx_monitor {
script <span style="color: rgb(221, 17, 68);">&quot;/path/to/nginx_monitor&quot;</span>
interval <span style="color: rgb(0, 153, 153);">2</span>  # 探测频率为<span style="color: rgb(0, 153, 153);">2</span>s
weight -<span style="color: rgb(0, 153, 153);">50</span>  # 根据script的返回值进行判断，如果重启失败，则该设备的权重-<span style="color: rgb(0, 153, 153);">50</span>
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">1</span>&gt;的配置
vrrp_instance VI_1 {
state BACKUP
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v1priority 50    # 当前优先级权重为50
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">1</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">1</span> broadcast&gt;
}
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">2</span>&gt;的配置
vrrp_instance VI_2 {
state BACKUP
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v2priority 100     # 当前优先级权重为100
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">2</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">2</span> broadcast&gt;
}
}
# &lt;service ip <span style="color: rgb(0, 153, 153);">3</span>&gt;的配置
vrrp_instance VI_3 {
state MASTER
nopreempt
<span style="color: rgb(68, 85, 136); font-weight: 700;"><span style="color: rgb(51, 51, 51);">interface</span> eth1virtual_router_id v3priority 200    # 当前优先级权重为200
advert_int 1
authentication {</span>
      auth_type PASS
      auth_pass PASS@HTTP_Proxy
}

track_script {
      nginx_monitor
}

virtual_ipaddress {
      # 配置服务ip及广播地址
      &lt;service ip <span style="color: rgb(0, 153, 153);">3</span>&gt;/<span style="color: rgb(0, 153, 153);">25</span> brd &lt;service ip <span style="color: rgb(0, 153, 153);">3</span> broadcast&gt;
}
}</code></pre></li></ul></li></ul></li></ul></div>
</div></body></html> 